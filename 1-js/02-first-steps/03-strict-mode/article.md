# 新模式，"use strict"

很长的一段时间内，JavaScript 不断发展，但是没有兼容性问题。新特性已添加到该语言，但是旧的功能也没有改变。

这有利于不破坏现有的规范，但缺点是 JavaScript 创造者的任何错误和不完美的考虑也永远地停留在语言中。

直到 2009 年 ECMAScript 5 (ES5) 的出现。ES5 规范增加了新的语言特性并且修改了一些已经存在的特性。为了保证旧的功能能够使用，大部分的修改是默认不生效的。你需要一个特殊的指令 —— `"use strict"` 来明确地使用这些特性。

## "use strict"

这个指令看上去是一个字符串 `"use strict"` 或者 `'use strict'`。当它处于脚本文件的顶部，则整个脚本文件都工作在“现代”的方式中。

比如：

```js
"use strict";

// 代码以新模式工作
...
```

我们将很快学习函数（一种组合命令的方式）。

我们注意到 `"use strict"` 可以放在函数（大多数函数）而不是整个脚本的开头。那么严格模式仅在该函数中启用。但通常人们会将它用于整个脚本。


````warn header="确保 \"use strict\" 出线在最顶部"
请确保 `"use strict"` 出线在脚本的最顶部，否则严格模式可能无法启用。

这里的严格模式就没有启用：

```js no-strict
alert("some code");
// 下面的 "use strict" 会被忽略，必须在最顶部。

"use strict";

// 严格模式没有激活
```

只有注释可以出现在 `"use strict"` 的上面。
````

```warn header="没有办法取消 `use strict`"
没有类似于 `"no use strict"` 这样的指令，这会返回原来的默认模式。

一旦进入了严格模式，就没有退路了。
```

## 总是使用 "use strict"

使用 `"use strict"` 与“默认”模式的区别仍然有待完善。

在接下来的章节中，当我们学习语言功能时，我们会记录严格模式的差异。幸运的是，没有那么多。实际上，它们为我们编写代码提供了极大的便利。

当前，一般来说了解这些就够了：

1. `"use strict"` 指令将浏览器引擎转换为“现代”模式，改变一些内建特性的行为。我们会在之后的学习中了解这些细节。
2. 严格模式通过顶部的 `"use strict"` 启用。一些新语言特性诸如 "classes" 和 "modules" 也会自动开启严格模式。
3. 所有的现代浏览器都支持严格模式。
4. 建议始终使用 `"use strict"` 启动脚本。本教程的所有例子都默认采用严格模式，除非特别指定（非常少）。
