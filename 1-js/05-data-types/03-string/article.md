# å­—ç¬¦ä¸²

åœ¨ JavaScript ä¸­ï¼Œæ–‡æœ¬æ•°æ®è¢«ä½œä¸ºå­—ç¬¦ä¸²å­˜å‚¨ï¼Œå­—ç¬¦æ²¡æœ‰å•ç‹¬çš„ç±»å‹ã€‚

å­—ç¬¦ä¸²çš„å†…éƒ¨æ ¼å¼æ€»æ˜¯ [UTF-16](https://en.wikipedia.org/wiki/UTF-16)ï¼Œå®ƒä¸ä¼šç»‘å®šåˆ°é¡µé¢ç¼–ç ä¸­ã€‚

## Quotes

è®©æˆ‘ä»¬å›å¿†ä¸€ä¸‹è¿™äº›å¼•è¯­ã€‚

å­—ç¬¦ä¸²å¯ä»¥åŒ…å«åœ¨å•å¼•å·ã€åŒå¼•å·æˆ–åå¼•å·ä¸­ï¼š

```js
let single = 'single-quoted';
let double = "double-quoted";

let backticks = `backticks`;
```

å•å¼•å·å’ŒåŒå¼•å·æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œåå¼•å·å…è®¸æˆ‘ä»¬å°†ä»»ä½•è¡¨è¾¾å¼åµŒå…¥åˆ°å­—ç¬¦ä¸²ä¸­ï¼ŒåŒ…æ‹¬å‡½æ•°è°ƒç”¨ï¼š

```js run
function sum(a, b) {
  return a + b;
}

alert(`1 + 2 = ${sum(1, 2)}.`); // 1 + 2 = 3.
```

ä½¿ç”¨åå¼•å·çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒä»¬å…è®¸å­—ç¬¦ä¸²è·¨è¡Œï¼š

```js run
let guestList = `Guests:
 * John
 * Pete
 * Mary
`;

alert(guestList); // å®¢äººæ¸…å•ï¼Œå¤šè¡Œ
```

å¦‚æœæˆ‘ä»¬å°è¯•ä»¥ç›¸åŒçš„æ–¹å¼ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·ï¼Œåˆ™ä¼šå‡ºé”™ï¼š
```js run
let guestList = "Guests:  // Error: Unexpected token ILLEGAL
  * John";
```

å½“ä¸è€ƒè™‘å¤šè¡Œå­—ç¬¦ä¸²çš„éœ€è¦æ—¶ï¼Œå•å¼•å·å’ŒåŒå¼•å·æ¥è‡ªè¯­è¨€åˆ›å»ºçš„å¤æ—¶ä»£ã€‚åå¼•å·å‡ºç°è¾ƒæ™šï¼Œå› æ­¤æ›´é€šç”¨ã€‚

åå¼•å·è¿˜å…è®¸æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªåå¼•å·ä¹‹å‰æŒ‡å®šä¸€ä¸ªâ€œæ¨¡ç‰ˆå‡½æ•°â€ã€‚è¯­æ³•æ˜¯ï¼š<code>func&#96;string&#96;</code>ã€‚å‡½æ•° `func` è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œæ¥æ”¶å­—ç¬¦ä¸²å’ŒåµŒå…¥å¼è¡¨è¾¾å¼ï¼Œå¹¶å¤„ç†å®ƒä»¬ã€‚ä½ å¯ä»¥åœ¨ [docs](mdn:/JavaScript/Reference/Template_literals#Tagged_template_literals) ä¸­é˜…è¯»æ›´å¤šå…³äºå®ƒä»¬çš„ä¿¡æ¯ã€‚è¿™å«åš "tagged templates"ã€‚æ­¤åŠŸèƒ½å¯ä»¥æ›´è½»æ¾åœ°å°†å­—ç¬¦ä¸²åŒ…è£…åˆ°è‡ªå®šä¹‰æ¨¡ç‰ˆæˆ–å…¶ä»–å‡½æ•°ä¸­ï¼Œä½†è¿™å¾ˆå°‘ä½¿ç”¨ã€‚


## ç‰¹æ®Šå­—ç¬¦

é€šè¿‡ä½¿ç”¨æ¢è¡Œç¬¦ `\n` æ¥åˆ›å»ºå¸¦æœ‰å•å¼•å·çš„å¤šè¡Œå­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä¸­æ–­ï¼š

```js run
let guestList = "Guests:\n * John\n * Pete\n * Mary";

alert(guestList); // a multiline list of guests
```

ä¾‹å¦‚ï¼Œè¿™ä¸¤è¡Œæè¿°ç›¸åŒï¼š

```js run
alert( "Hello\nWorld" ); // two lines using a "newline symbol"

// two lines using a normal newline and backticks
alert( `Hello
World` );
```

è¿˜æœ‰å…¶ä»–ä¸å¸¸è§çš„â€œç‰¹æ®Šå­—ç¬¦â€ï¼Œåˆ—è¡¨å¦‚ä¸‹ï¼š

| å­—ç¬¦ | æè¿° |
|-----------|-------------|
|`\b`|Backspace|
|`\f`|Form feed|
|`\n`|New line|
|`\r`|Carriage return|
|`\t`|Tab|
|`\uNNNN`|16 è¿›åˆ¶çš„ `NNNN` çš„unicode ç¬¦å·ï¼Œä¾‹å¦‚ `\u00A9`â€”â€” æ˜¯ç‰ˆæƒç¬¦å·çš„ unicode `Â©`ã€‚å®ƒå¿…é¡»æ˜¯ 4 ä¸ª16 è¿›åˆ¶æ•°å­—ã€‚ |
|`\u{NNNNNNNN}`|ä¸€äº›ç½•è§å­—ç¬¦ä½¿ç”¨ä¸¤ä¸ª unicode ç¬¦å·è¿›è¡Œç¼–ç ï¼Œæœ€å¤šå ç”¨ 4 ä¸ªå­—èŠ‚ã€‚è¿™ä¸ªé•¿çš„ unicode éœ€è¦å®ƒå‘¨å›´çš„æ‹¬å·ã€‚|

unicode ç¤ºä¾‹ï¼š

```js run
alert( "\u00A9" ); // Â©
alert( "\u{20331}" ); // ä½«, a rare chinese hieroglyph (long unicode)
alert( "\u{1F60D}" ); // ğŸ˜, a smiling face symbol (another long unicode)
```

æ‰€æœ‰çš„ç‰¹æ®Šå­—ç¬¦éƒ½ä»¥åæ–œæ å­—ç¬¦ `\` å¼€å§‹ã€‚å®ƒä¹Ÿè¢«ç§°ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€ã€‚

å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥ä¸€ä¸ªå¼•å·ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä½¿ç”¨å®ƒã€‚

ä¾‹å¦‚ï¼š

```js run
alert( 'I*!*\'*/!*m the Walrus!' ); // *!*I'm*/!* the Walrus!
```

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬å¿…é¡»ç”¨åæ–œæ  `\'` æ¥é¢„è®¾å€¼å†…éƒ¨å¼•å·ï¼Œå¦åˆ™å°±è¡¨ç¤ºå­—ç¬¦ä¸²ç»“æŸã€‚

å½“ç„¶ï¼Œè¿™åªä¸è¿‡æ˜¯æŒ‡ä¸ä¸Šæ–‡ç›¸åŒçš„å¼•æ–‡ã€‚å› æ­¤ï¼Œä½œä¸ºæ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥æ”¹ç”¨åŒå¼•å·æˆ–åå¼•å·ã€‚

```js run
alert( `I'm the Walrus!` ); // I'm the Walrus!
```

æ³¨æ„åæ–œæ  `\` åœ¨ JavaScript ä¸­ç”¨äºæ­£ç¡®è¯»å–å­—ç¬¦ä¸²ï¼Œç„¶åæ¶ˆå¤±ã€‚å†…å­˜ä¸­çš„å­—ç¬¦ä¸²æ²¡æœ‰ `\`ã€‚ä»ä¸Šè¿°ç¤ºä¾‹ä¸­çš„ `alert` å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ° ã€‚

ä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å­—ç¬¦ä¸²ä¸­æ˜¾ç¤ºä¸€ä¸ªå®é™…çš„åæ–œæ  `\` åº”è¯¥æ€ä¹ˆåšï¼Ÿ

æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼Œåªéœ€è¦å°†å…¶ä¹¦å†™ä¸¤æ¬¡ `\\`ï¼š

```js run
alert( `The backslash: \\` ); // The backslash: \
```

## å­—ç¬¦ä¸²é•¿åº¦


`length` å±æ€§æœ‰å­—ç¬¦ä¸²é•¿åº¦ï¼š

```js run
alert( `My\n`.length ); // 3
```

æ³¨æ„ `\n` æ˜¯ä¸€ä¸ªå•ç‹¬çš„â€œç‰¹æ®Šâ€å­—ç¬¦ï¼Œæ‰€ä»¥é•¿åº¦ç¡®å®æ˜¯ `3`

```warn header="`length` is a property"
æŒæ¡å…¶ä»–è¯­è¨€çš„äººï¼Œæœ‰æ—¶ä¼šé”™è¯¯åœ°è°ƒç”¨ `str.length()` è€Œä¸æ˜¯ `str.length`ã€‚è¿™æ˜¯è¡Œä¸é€šçš„ã€‚

<<<<<<< HEAD
è¯·æ³¨æ„ `str.length` æ˜¯ä¸€ä¸ªæ•°å­—å±æ€§ï¼Œè€Œä¸æ˜¯å‡½æ•°ã€‚ä¹‹åä¸éœ€è¦æ·»åŠ æ‹¬å·ã€‚
=======
Please note that `str.length` is a numeric property, not a function. There is no need to add parenthesis after it.
>>>>>>> a0266c574c0ab8a0834dd38ed65e7e4ee27f9cdb
```

## è®¿é—®å­—ç¬¦ã€‚

åœ¨ `pos` ä½ç½®è·å–ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å· `[pos]` æˆ–è€…è°ƒç”¨ [str.charAt(pos)](mdn:js/String/charAt) æ–¹æ³•ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä»é›¶ä½ç½®å¼€å§‹ï¼š

```js run
let str = `Hello`;

// the first character
alert( str[0] ); // H
alert( str.charAt(0) ); // H

// the last character
alert( str[str.length - 1] ); // o
```

æ–¹æ‹¬å·æ˜¯è·å–å­—ç¬¦çš„ä¸€ç§ç°ä»£åŒ–æ–¹æ³•ï¼Œè€Œ `charAt` æ˜¯å†å²åŸå› æ‰å­˜åœ¨çš„ã€‚

å®ƒä»¬ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å­—ç¬¦ï¼Œ`[]` è¿”å› `undefined`ï¼Œè€Œ `charAt` è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼š

```js run
let str = `Hello`;

alert( str[1000] ); // undefined
alert( str.charAt(1000) ); // '' (an empty string)
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ `for..of` éå†å­—ç¬¦ï¼š

```js run
for (let char of "Hello") {
  alert(char); // H,e,l,l,o (char becomes "H", then "e", then "l" etc)
}
```

## å­—ç¬¦ä¸²ä¸å¯å˜

åœ¨ JavaScript ä¸­ï¼Œå­—ç¬¦ä¸²ä¸å¯æ›´æ”¹ã€‚æ”¹å˜å­—ç¬¦æ˜¯ä¸å¯èƒ½çš„ã€‚

æˆ‘ä»¬è¯æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆä¸å¯èƒ½ï¼š

```js run
let str = 'Hi';

str[0] = 'h'; // error
alert( str[0] ); // æ— æ³•è¿è¡Œ
```

é€šå¸¸çš„è§£å†³æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åˆ†é…ç»™ `str` è€Œä¸æ˜¯ä»¥å‰çš„å­—ç¬¦ä¸²ã€‚

ä¾‹å¦‚ï¼š

```js run
let str = 'Hi';

str = 'h' + str[1];  // å­—ç¬¦ä¸²æ›¿æ¢

alert( str ); // hi
```

ä¸‹é¢çš„æ–‡ç« ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°è·Ÿå¤šçš„ç¤ºä¾‹ã€‚

## æ”¹å˜å¤§å°å†™

[toLowerCase()](mdn:js/String/toLowerCase) å’Œ [toUpperCase()](mdn:js/String/toUpperCase) å¯ä»¥æ”¹å˜å¤§å°å†™ï¼š

```js run
alert( 'Interface'.toUpperCase() ); // INTERFACE
alert( 'Interface'.toLowerCase() ); // interface
```

æˆ–è€…æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªå°å†™å­—ç¬¦ï¼š

```js
alert( 'Interface'[0].toLowerCase() ); // 'i'
```

## æŸ¥æ‰¾å­å­—ç¬¦ä¸²

åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­å­—ç¬¦ä¸²æœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚

### str.indexOf

ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ [str.indexOf(substr, pos)](mdn:js/String/indexOf)ã€‚

å®ƒä»ç»™å®šä½ç½® `pos` å¼€å§‹ï¼Œåœ¨ `str` ä¸­æŸ¥æ‰¾ `substr`ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å› `-1`ï¼Œå¦åˆ™è¿”å›åŒ¹é…æˆåŠŸçš„ä½ç½®ã€‚

ä¾‹å¦‚ï¼š

```js run
let str = 'Widget with id';

alert( str.indexOf('Widget') ); // 0ï¼Œå› ä¸º 'Widget' ä¸€å¼€å§‹å°±è¢«æ‰¾åˆ°
alert( str.indexOf('widget') ); // -1ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œæ£€ç´¢æ˜¯å¤§å°å†™æ•æ„Ÿçš„

alert( str.indexOf("id") ); // 1ï¼Œ"id" åœ¨ä½ç½® 1 å¤„ï¼ˆ...idget å’Œ idï¼‰
```

å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°å…è®¸æˆ‘ä»¬ä»ç»™å®šçš„èµ·å§‹ä½ç½®å¼€å§‹æ£€ç´¢

ä¾‹å¦‚ï¼Œ`"id"` ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®æ˜¯ `1`ã€‚æŸ¥è¯¢ä¸‹ä¸€ä¸ªå­˜åœ¨ä½ç½®æ—¶ï¼Œæˆ‘ä»¬ä» `2` å¼€å§‹æ£€ç´¢ï¼š

```js run
let str = 'Widget with id';

alert( str.indexOf('id', 2) ) // 12
```


å¦‚æœæˆ‘ä»¬å¯¹æ‰€æœ‰å­˜åœ¨ä½ç½®éƒ½æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ä½¿ç”¨ `indexOf`ã€‚æ¯ä¸€æ¬¡æ–°çš„è°ƒç”¨éƒ½å‘ç”Ÿåœ¨ä¸Šä¸€åŒ¹é…ä½ç½®ä¹‹åï¼š


```js run
let str = 'As sly as a fox, as strong as an ox';

let target = 'as'; // è®©æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹

let pos = 0;
while (true) {
  let foundPos = str.indexOf(target, pos);
  if (foundPos == -1) break;

  alert( `Found at ${foundPos}` );
 Â pos = foundPos + 1; // ç»§ç»­ä»ä¸‹ä¸€ä¸ªä½ç½®æŸ¥æ‰¾
}
```

ç›¸åŒçš„ç®—æ³•å¯ä»¥ç®€å†™ï¼š

```js run
let str = "As sly as a fox, as strong as an ox";
let target = "as";

*!*
let pos = -1;
while ((pos = str.indexOf(target, pos + 1)) != -1) {
  alert( pos );
}
*/!*
```

<<<<<<< HEAD
```smart header="`str.lastIndexOf(subStr, pos)`"
è¿˜æœ‰ä¸€ä¸ªç±»ä¼¼çš„æ–¹æ³• [str.lastIndexOf(subStr, pos)](mdn:js/String/lastIndexOf)ï¼Œä»–ä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹æœç´¢ã€‚
=======
```smart header="`str.lastIndexOf(substr, position)`"
There is also a similar method [str.lastIndexOf(substr, position)](mdn:js/String/lastIndexOf) that searches from the end of a string to its beginning.
>>>>>>> a0266c574c0ab8a0834dd38ed65e7e4ee27f9cdb

å®ƒä¼šä»¥ç›¸åçš„é¡ºåºåˆ—å‡ºäº‹ä»¶ã€‚
```

åœ¨ `if` æµ‹è¯•ä¸­ `indexOf` æœ‰ä¸€ç‚¹ä¸æ–¹ä¾¿ã€‚æˆ‘ä»¬ä¸å¯ä»¥æŠŠå®ƒæ”¾åœ¨è¿™æ ·çš„ `if` ä¸­ï¼š

```js run
let str = "Widget with id";

if (str.indexOf("Widget")) {
    alert("We found it"); // doesn't work!
}
```

ä¸Šè¿°ç¤ºä¾‹ä¸­çš„ `alert` ä¸ä¼šæ˜¾ç¤ºï¼Œå› ä¸º `str.indexOf("Widget")` è¿”å› `0`ï¼ˆæ„æ€æ˜¯å®ƒåœ¨èµ·å§‹ä½ç½®æŸ¥æ‰¾åŒ¹é…ï¼‰ã€‚æ˜¯çš„ï¼Œä½†æ˜¯  `if` è®¤ä¸º `0` åº”è¯¥æ˜¯ `false`ã€‚

å› æ­¤æˆ‘ä»¬å®é™…ä¸Šæ˜¯ä» `-1` å¼€å§‹çš„ï¼Œå°±åƒè¿™æ ·ï¼š

```js run
let str = "Widget with id";

*!*
if (str.indexOf("Widget") != -1) {
*/!*
 Â  Â alert("We found it"); // ç°åœ¨è¿è¡Œäº†ï¼
}
```

````smart header="The bitwise NOT trick"
è¿™é‡Œä½¿ç”¨çš„ä¸€ä¸ªè€æŠ€å·§æ˜¯ [bitwise NOT](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_NOT) `~` è¿ç®—ç¬¦ã€‚å®ƒå°†è¯¥æ•°å­—è½¬æ¢ä¸º 32-bit æ•´æ•°ï¼ˆå¦‚æœå­˜åœ¨ï¼Œåˆ™åˆ é™¤å°æ•°éƒ¨åˆ†ï¼‰ï¼Œç„¶ååè½¬å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æ‰€æœ‰ä½ã€‚

å¯¹äº 32-bit æ•´æ•°ï¼Œè°ƒç”¨ `~n` çš„æ„æ€ä¸ `-(n+1)` å®Œå…¨ä¸€æ ·ï¼ˆç”±äº IEEE-754 æ ¼å¼ï¼‰ã€‚

ä¾‹å¦‚ï¼š

```js run
alert( ~2 ); // -3, the same as -(2+1)
alert( ~1 ); // -2, the same as -(1+1)
alert( ~0 ); // -1, the same as -(0+1)
*!*
alert( ~-1 ); // 0, the same as -(-1+1)
*/!*
```

æ­£å¦‚æˆ‘ä»¬çœ‹åˆ°è¿™æ ·ï¼Œåªæœ‰å½“ `n == -1` æ—¶ï¼Œ`~n` æ‰ä¸ºé›¶ã€‚

å› æ­¤ï¼Œæµ‹è¯• `if ( ~str.indexOf("...") )` çœŸæ˜¯ `indexOf` çš„ç»“æœä¸æ˜¯ `-1`ã€‚æ¢å¥è¯è¯´ï¼Œå½“æœ‰åŒ¹é…æ—¶ã€‚

äººä»¬ç”¨å®ƒæ¥ç®€å†™ `indexOf` æ£€æŸ¥ï¼š

```js run
let str = "Widget";

if (~str.indexOf("Widget")) {
  alert( 'Found it!' ); // works
}
```

é€šå¸¸ä¸å»ºè®®ä»¥éæ˜¾è€Œæ˜“è§çš„æ–¹å¼ä½¿ç”¨è¯­è¨€ç‰¹æ€§ï¼Œä½†è¿™ç§ç‰¹æ®ŠæŠ€å·§åœ¨æ—§ä»£ç ä¸­ä»è¢«å¹¿æ³›ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ç†è§£å®ƒã€‚

åªè¦è®°ä½ï¼š`if (~str.indexOf(...))` è¯»ä½œ "if found"ã€‚
````

### includes, startsWith, endsWith

æ›´ç°ä»£çš„æ–¹æ³• [str.includes(substr, pos)](mdn:js/String/includes) å–å†³äº `str` æ˜¯å¦åŒ…å« `substr` æ¥è¿”å› `true/false`ã€‚

å¦‚æœæˆ‘ä»¬éœ€è¦æµ‹è¯•åŒ¹é…ï¼Œè¿™æ˜¯æ­£ç¡®çš„é€‰æ‹©ï¼Œä½†ä¸éœ€è¦å®ƒçš„ä½ç½®ï¼š

```js run
alert( "Widget with id".includes("Widget") ); // true

alert( "Hello".includes("Bye") ); // false
```

`str.includes` çš„ç¬¬äºŒä¸ªå¯é€‰å‚æ•°ä»ä»¥ä¸‹ä½ç½®å¼€å§‹æœç´¢ä½ç½®ï¼š

```js run
alert( "Midget".includes("id") ); // true
alert( "Midget".includes("id", 3) ); // false, ä½ç½® 3 æ²¡æœ‰ "id"
```

æ–¹æ³• [str.startsWith](mdn:js/String/startsWith) å’Œ [str.endsWith](mdn:js/String/endsWith) å®Œå…¨æŒ‰ç…§å®ƒä»¬æ‰€è¯´çš„æ‰§è¡Œï¼š

```js run
alert( "Widget".startsWith("Wid") ); // true, "Widget" ä»¥ "Wid" å¼€å§‹
alert( "Widget".endsWith("get") ); Â  // true, "Widget" ä»¥ "get" ç»“æŸ
```

## è·å–å­å­—ç¬¦ä¸²

JavaScript ä¸­æœ‰ä¸‰ç§è·å–å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š`substring`ã€`substr` å’Œ `slice`ã€‚

`str.slice(start [, end])`
: è¿”å›ä» `start` åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰`end` çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚

    ä¾‹å¦‚ï¼š

    ```js run
    let str = "stringify";
    alert( str.slice(0, 5) ); // 'strin', ä» 0 åˆ° 5 çš„å­å­—ç¬¦ä¸²ï¼ˆä¸åŒ…æ‹¬ 5ï¼‰
    alert( str.slice(0, 1) ); // 's', ä» 0 åˆ° 1ï¼Œä½†ä¸åŒ…æ‹¬ 1ï¼Œæ‰€ä»¥åªæœ‰åœ¨ 0 çš„å­—ç¬¦
    ```

    å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œ`slice` è¿è¡Œåˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼š

    ```js run
    let str = "st*!*ringify*/!*";
    alert( str.slice(2) ); // ä»ç¬¬äºŒä¸ªä½ç½®ç›´åˆ°ç»“æŸ
    ```

    `start/end` ä¹Ÿæœ‰å¯èƒ½æ˜¯è´Ÿå€¼ã€‚å®ƒä»¬çš„æ„æ€æ˜¯ä½ç½®ä»å­—ç¬¦ä¸²ç»“å°¾è®¡ç®—ï¼š

    ```js run
    let str = "strin*!*gif*/!*y";

    // ä»å³è¾¹çš„ç¬¬å››ä¸ªä½ç½®å¼€å§‹ï¼Œåœ¨å³è¾¹çš„ç¬¬ä¸€ä¸ªä½ç½®ç»“æŸ
    alert( str.slice(-4, -1) ); // */!
    ```


`str.substring(start [, end])`
: è¿”å› `start` å’Œ `end` **ä¹‹é—´**çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚

    è¿™ä¸ `slice` å‡ ä¹ç›¸åŒï¼Œä½†å®ƒå…è®¸ `start`å¤§äº `end`ã€‚

    ä¾‹å¦‚ï¼š


    ```js run
    let str = "st*!*ring*/!*ify";

    // è¿™äº›å¯¹äºå­ä¸²æ˜¯ç›¸åŒçš„
    alert( str.substring(2, 6) ); // "ring"
    alert( str.substring(6, 2) ); // "ring"

    // ...ä½†é™¤äº† sliceï¼š
    alert( str.slice(2, 6) ); // "ring" (the same)
    alert( str.slice(6, 2) ); // "" (an empty string)

    ```

    å¦å®šå‚æ•°ï¼ˆä¸åƒ sliceï¼‰ä¸æ”¯æŒï¼Œå®ƒä»¬è¢«è§†ä¸º `0`ã€‚


`str.substr(start [, length])`
:  ä» `start` å¼€å§‹è¿”å›ç»™å®š `length` çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚

    ä¸ä»¥å‰çš„æ–¹æ³•ç›¸æ¯”ï¼Œè¿™ä¸ªå…è®¸æˆ‘ä»¬æŒ‡å®š `length` è€Œä¸æ˜¯ç»“æŸä½ç½®ï¼š

    ```js run
    let str = "st*!*ring*/!*ify";
    alert( str.substr(2, 4) ); // ç¯ï¼Œä»ç¬¬äºŒä½è·å¾— 4 ä¸ªå­—ç¬¦
    ```

    ç¬¬ä¸€ä¸ªå‚æ•°å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œä»ç»“å°¾ç®—èµ·ï¼š

    ```js run
    let str = "strin*!*gi*/!*fy";
    alert( str.substr(-4, 2) ); // giï¼Œä»ç¬¬ 4 ä½è·å¾— 2 ä¸ªå­—ç¬¦
    ```

æˆ‘ä»¬å›é¡¾ä¸€ä¸‹è¿™äº›æ–¹æ³•ï¼Œä»¥å…æ··æ·†ï¼š

| method | selects... | negatives |
|--------|-----------|-----------|
| `slice(start, end)` | from `start` to `end` (not including `end`) | allows negatives |
| `substring(start, end)` | between `start` and `end` | negative values mean `0` |
| `substr(start, length)` | from `start` get `length` characters | allows negative `start` |


```smart header="Which one to choose?"
ä»–ä»¬å¯ä»¥å®Œæˆè¿™é¡¹å·¥ä½œï¼Œå½¢å¼ä¸Šï¼Œ`substr` æœ‰ä¸€ä¸ªå°ç¼ºç‚¹ï¼šå®ƒä¸æ˜¯åœ¨ JavaScript æ ¸å¿ƒè§„èŒƒä¸­æè¿°çš„ï¼Œè€Œæ˜¯åœ¨é™„å½• B ä¸­ï¼Œå®ƒæ¶µç›–äº†ä¸»è¦ç”±äºå†å²åŸå› è€Œå­˜åœ¨çš„æµè§ˆå™¨ç‰¹æ€§ã€‚å› æ­¤ï¼Œéæµè§ˆå™¨ç¯å¢ƒå¯èƒ½æ— æ³•æ”¯æŒå®ƒã€‚ä½†å®é™…ä¸Šå®ƒåœ¨ä»»ä½•åœ°æ–¹éƒ½æœ‰æ•ˆã€‚

<<<<<<< HEAD
ä½œè€…å‘ç°è‡ªå·±å‡ ä¹ä¸€ç›´åœ¨ä½¿ç”¨ `slice`ã€‚
=======
The author finds themself using `slice` almost all the time.
>>>>>>> a0266c574c0ab8a0834dd38ed65e7e4ee27f9cdb
```

## æ¯”è¾ƒå­—ç¬¦ä¸²

æ­£å¦‚æˆ‘ä»¬ä» <info:comparison> ä¸€ç« ä¸­äº†è§£åˆ°çš„ï¼Œå­—ç¬¦ä¸²æŒ‰å­—æ¯é¡ºåºé€å­—æ¯”è¾ƒã€‚

ä¸è¿‡ï¼Œä¹Ÿæœ‰ä¸€äº›å¥‡æ€ªçš„åœ°æ–¹ã€‚

1. å°å†™å­—æ¯æ€»æ˜¯å¤§äºå¤§å†™å­—æ¯ï¼š

    ```js run
    alert( 'a' > 'Z' ); // true
    ```

2. å¸¦æœ‰æŒ‡ç¤ºæ€§æ ‡è®°çš„å­—æ¯â€œä¸æ­£å¸¸â€ï¼š

    ```js run
    alert( 'Ã–sterreich' > 'Zealand' ); // true
    ```

    å¦‚æœæˆ‘ä»¬å¯¹è¿™äº›å›½åè¿›è¡Œæ’åºï¼Œå¯èƒ½ä¼šå¯¼è‡´å¥‡æ€ªçš„ç»“æœã€‚é€šå¸¸ï¼Œäººä»¬ä¼šæœŸæœ› `Zealand` åœ¨åå•ä¸­çš„ `Ã–sterreich` ä¹‹åå‡ºç°ã€‚

ä¸ºäº†æ˜ç™½å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹åœ¨ JavaScript ä¸­å­—ç¬¦ä¸²çš„å†…éƒ¨è¡¨ç¤ºã€‚

æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä½¿ç”¨ [UTF-16](https://en.wikipedia.org/wiki/UTF-16) ç¼–ç ã€‚å³ï¼šæ¯ä¸ªå­—ç¬¦éƒ½æœ‰ç›¸åº”çš„æ•°å­—ä»£ç ã€‚æœ‰ç‰¹æ®Šçš„æ–¹æ³•å¯ä»¥è·å–ä»£ç çš„å­—ç¬¦å¹¶è¿”å›ã€‚

`str.codePointAt(pos)`
: è¿”å›åœ¨ `pos` ä½ç½®çš„å­—ç¬¦ä»£ç  :

    ```js run
    // ä¸åŒçš„å­—æ¯æœ‰ä¸åŒçš„ä»£ç 
    alert( "z".codePointAt(0) ); // 122
    alert( "Z".codePointAt(0) ); // 90
    ```

`String.fromCodePoint(code)`
: é€šè¿‡æ•°å­— `code` åˆ›å»ºå­—ç¬¦

    ```js run
    alert( String.fromCodePoint(90) ); // Z
    ```

    æˆ‘ä»¬è¿˜å¯ä»¥ç”¨

    ```js run
    // 90 is 5a in hexadecimal system
    alert( '\u005a' ); // Z
    ```

ç°åœ¨æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»£ç  `65..220` çš„å­—ç¬¦ï¼ˆæ‹‰ä¸å­—æ¯å’Œä¸€äº›é¢å¤–çš„å­—ç¬¦ï¼‰ï¼Œæ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼š

```js run
let str = '';

for (let i = 65; i <= 220; i++) {
  str += String.fromCodePoint(i);
}
alert( str );
// ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~Â€ÂÂ‚ÂƒÂ„
// Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿Ã€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ›Ãœ
```

çœ‹åˆ°ï¼Ÿå¤§å†™å­—ç¬¦å…ˆèµ°ï¼Œç„¶åæ˜¯ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œç„¶åæ˜¯å°å†™å­—ç¬¦ã€‚

ç°åœ¨å¾ˆæ˜æ˜¾ä¸ºä»€ä¹ˆ `a > Z`ã€‚

å­—ç¬¦é€šè¿‡æ•°å­—ä»£ç è¿›è¡Œæ¯”è¾ƒã€‚è¶Šå¤§çš„ä»£ç æ„å‘³ç€å­—ç¬¦è¶Šå¤§ã€‚`a`ï¼ˆ97ï¼‰çš„ä»£ç å¤§äº `Z`ï¼ˆ90ï¼‰ã€‚

- æ‰€æœ‰å°å†™å­—æ¯éƒ½æ˜¯å¤§å†™å­—æ¯ï¼Œå› ä¸ºå®ƒä»¬çš„ä»£ç æ›´å¤§ã€‚
- ä¸€äº›æƒ³ `Ã–` çš„å­—æ¯ä¸ä¸»è¦å­—æ¯è¡¨ä¸åŒã€‚è¿™é‡Œçš„ä»£ç æ¯”ä» `a` åˆ° `z` çš„ä»£ç éƒ½è¦å¤§ã€‚


### æ­£ç¡®çš„æ¯”è¾ƒ

æ‰§è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒçš„â€œæ­£ç¡®â€ç®—æ³•æ¯”çœ‹èµ·æ¥æ›´å¤æ‚ï¼Œå› ä¸ºä¸åŒè¯­è¨€çš„å­—æ¯éƒ½ä¸ç›¸åŒã€‚ç›¸åŒçš„å­—æ¯å¯èƒ½ä½äºä¸åŒçš„å­—æ¯è¡¨ä¸­ã€‚

å› æ­¤æµè§ˆå™¨éœ€è¦çŸ¥é“è¦æ¯”è¾ƒçš„è¯­è¨€ã€‚

å¹¸è¿åœ°æ˜¯ï¼Œæ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆIE-10 éƒ½éœ€è¦é¢å¤–çš„åº“ [Intl.JS](https://github.com/andyearnshaw/Intl.js/)) æ”¯æŒå›½é™…åŒ–æ ‡å‡† [ECMA 402](http://www.ecma-international.org/ecma-402/1.0/ECMA-402.pdf)ã€‚

å®ƒæä¾›äº†ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•æ¥æ¯”è¾ƒä¸åŒè¯­è¨€çš„å­—ç¬¦ä¸²ï¼Œéµå¾ªå®ƒä»¬çš„è§„åˆ™ã€‚

è°ƒç”¨ [str.localeCompare(str2)](mdn:js/String/localeCompare)ï¼š

- æ ¹æ®è¯­è¨€è§„åˆ™ï¼Œå¦‚æœ `str` å¤§äº `str2` è¿”å› `1`ã€‚
- å¦‚æœif `str` å°äº `str2` è¿”å› `-1`ã€‚
- å¦‚æœç›¸ç­‰ï¼Œè¿”å› `0`ã€‚

ä¾‹å¦‚ï¼š

```js run
alert( 'Ã–sterreich'.localeCompare('Zealand') ); // -1
```

è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šåœ¨[æ–‡æ¡£](mdn:js/String/localeCompare)ä¸­æŒ‡å®šäº†ä¸¤ä¸ªé¢å¤–çš„å‚æ•°ï¼Œå®ƒå…è®¸å®ƒæŒ‡å®šè¯­è¨€ï¼ˆé»˜è®¤ä»ç¯å¢ƒä¸­è·å–ï¼‰å¹¶è®¾ç½®è¯¸å¦‚åŒºåˆ«å¤§å°ä¹‹ç±»çš„é™„åŠ è§„åˆ™ï¼Œæˆ–åº”è¯¥å¤„ç†å°† `"a"` å’Œ `"aÌ"` çœ‹ä½œç›¸ç­‰æƒ…å†µç­‰ã€‚

## å†…éƒ¨ï¼ŒUnicode

```warn header="Advanced knowledge"
<<<<<<< HEAD
è¿™éƒ¨åˆ†ä¼šæ·±å…¥å­—ç¬¦ä¸²å†…éƒ¨ã€‚å¦‚æœä½ è®¡åˆ’å¤„ç†è¡¨æƒ…ç¬¦å·ã€ç½•è§çš„è±¡å½¢æ–‡å­—å­—ç¬¦æˆ–å…¶ä»–ç½•è§ç¬¦å·ï¼Œè¿™äº›çŸ¥è¯†ä¼šå¯¹ä½ æœ‰ç”¨ã€‚
=======
The section goes deeper into string internals. This knowledge will be useful for you if you plan to deal with emoji, rare mathematical or hieroglyphic characters or other rare symbols.
>>>>>>> a0266c574c0ab8a0834dd38ed65e7e4ee27f9cdb

å¦‚æœä½ ä¸æ‰“ç®—æ”¯æŒå®ƒä»¬ï¼Œä½ å¯ä»¥è·³è¿‡è¿™ä¸€éƒ¨åˆ†ã€‚
```

### ä»£ç†å¯¹

å¤§éƒ¨åˆ† symbol éƒ½æœ‰ä¸€ä¸ª 2 å­—èŠ‚çš„ä»£ç ã€‚å¤§å¤šæ•°æ¬§æ´²è¯­è¨€ï¼Œæ•°å­—ç”šè‡³å¤§å¤šæ•°è±¡å½¢æ–‡å­—ä¸­çš„å­—æ¯éƒ½æœ‰ 2 å­—èŠ‚çš„è¡¨ç¤ºå½¢å¼ã€‚

ä½† 2 å­—èŠ‚åªå…è®¸ 65536 ä¸ªç»„åˆï¼Œè¿™å¯¹äºæ¯ä¸ªå¯èƒ½çš„ç¬¦å·éƒ½æ˜¯ä¸å¤Ÿçš„ã€‚æ‰€ä»¥ç¨€æœ‰çš„ç¬¦å·è¢«ç§°ä¸ºâ€œä»£ç†å¯¹â€çš„ä¸€å¯¹ 2 å­—èŠ‚ç¬¦å·ç¼–ç ã€‚

è¿™äº›ç¬¦å·çš„é•¿åº¦æ˜¯ `2`ï¼š

```js run
alert( 'ğ’³'.length ); // 2, MATHEMATICAL SCRIPT CAPITAL X
alert( 'ğŸ˜‚'.length ); // 2, FACE WITH TEARS OF JOY
alert( 'ğ©·¶'.length ); // 2, a rare chinese hieroglyph
```

æ³¨æ„ï¼Œä»£ç†å¯¹åœ¨ JavaScript è¢«åˆ›å»ºæ—¶å¹¶ä¸å­˜åœ¨ï¼Œå› æ­¤æ— æ³•è¢«è¯­è¨€æ­£ç¡®ä»£ç†ã€‚

æˆ‘ä»¬å®é™…ä¸Šåœ¨ä¸Šé¢çš„æ¯ä¸ªå­—ç¬¦ä¸²ä¸­éƒ½æœ‰ä¸€ä¸ªç¬¦å·ï¼Œä½† `length` æ˜¾ç¤ºé•¿åº¦ä¸º `2`ã€‚

`String.fromCodePoint` å’Œ `str.codePointAt` æ˜¯å‡ ç§å¤„ç†ä»£ç†å¯¹çš„å°‘æ•°æ–¹æ³•ã€‚å®ƒä»¬æœ€è¿‘åœ¨å‡ºç°åœ¨è¯­è¨€ä¸­ã€‚åœ¨å®ƒä»¬ä¹‹å‰ï¼Œåªæœ‰ [String.fromCharCode](mdn:js/String/fromCharCode) å’Œ [str.charCodeAt](mdn:js/String/charCodeAt)ã€‚è¿™äº›æ–¹æ³•å®é™…ä¸Šä¸ `fromCodePoint/codePointAt` ç›¸åŒï¼Œä½†æ˜¯ä¸é€‚ç”¨äºä»£ç†å¯¹ã€‚

ä½†æ˜¯ï¼Œä¾‹å¦‚ï¼Œè·å–ç¬¦å·å¯èƒ½ä¼šéå¸¸éº»çƒ¦ï¼Œå› ä¸ºä»£ç†å¯¹è¢«è®¤ä¸ºæ˜¯ä¸¤ä¸ªå­—ç¬¦ï¼š

```js run
alert( 'ğ’³'[0] ); // å¥‡æ€ªçš„ç¬¦å·...
alert( 'ğ’³'[1] ); // ...ä»£ç†å¯¹çš„ä¸€å—
```

è¯·æ³¨æ„ï¼Œä»£ç†å¯¹çš„å„éƒ¨åˆ†æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚å› æ­¤ï¼Œä¸Šè¿°ç¤ºä¾‹ä¸­çš„ alert æ˜¾ç¤ºå®é™…ä¸Šå¹¶æ²¡æœ‰ç”¨ã€‚

æŠ€æœ¯è§’åº¦æ¥è¯´ï¼Œä»£ç†å¯¹ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡å®ƒä»¬çš„ä»£ç æ£€æµ‹åˆ°ï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦çš„ä»£ç é—´éš”ä¸º `0xd800..0xdbff`ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä»£ç†å¯¹çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰å¿…é¡»åœ¨æ—¶é—´é—´éš” `0xdc00..0xdfff` ä¸­ã€‚è¿™äº›é—´éš”ä»…æœ‰æ ‡å‡†çš„ä»£ç†å¯¹ä¿ç•™ã€‚

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼š

```js run
// charCodeAt is not surrogate-pair aware, so it gives codes for parts

alert( 'ğ’³'.charCodeAt(0).toString(16) ); // d835, åœ¨ 0xd800 å’Œ 0xdbff ä¹‹é—´
alert( 'ğ’³'.charCodeAt(1).toString(16) ); // dcb3, åœ¨ 0xdc00 å’Œ 0xdfff ä¹‹é—´
```

æœ¬ç« èŠ‚åé¢çš„ <info:iterable> ä¸­å¯ä»¥æ‰¾åˆ°æ›´å¤šå¤„ç†ä»£ç†å¯¹çš„æ–¹æ³•ã€‚ä¹Ÿå¯èƒ½æœ‰ç‰¹æ®Šçš„åº“ï¼Œè¿™é‡Œæ²¡æœ‰ä»€ä¹ˆè¶³å¤Ÿå¥½çš„å»ºè®®ã€‚

### æŒ‡ç¤ºæ ‡å¿—ä¸è§„èŒƒåŒ–

åœ¨è®¸å¤šè¯­è¨€ä¸­ï¼Œæœ‰ä¸€äº›ç¬¦å·æ˜¯ç”±ä¸Šé¢/ä¸‹é¢æœ‰æ ‡è®°çš„åŸºæœ¬å­—ç¬¦ç»„æˆçš„ã€‚

ä¾‹å¦‚ï¼Œå­—æ¯ `a` å¯ä»¥æ˜¯åŸºæœ¬å­—ç¬¦ï¼š`Ã Ã¡Ã¢Ã¤Ã£Ã¥Ä`ã€‚æœ€å¸¸è§çš„â€œå¤åˆâ€å­—ç¬¦åœ¨ UTF-16 è¡¨ä¸­æœ‰è‡ªå·±çš„ä»£ç ã€‚ä½†ä¸æ˜¯å…¨éƒ¨ï¼Œå› ä¸ºå¯èƒ½çš„ç»„åˆå¤ªå¤šã€‚

ä¸ºäº†æ”¯æŒä»»æ„ç»„åˆï¼ŒUTF-16 å…è®¸æˆ‘ä»¬ä½¿ç”¨å¤šä¸ª unicode å­—ç¬¦ã€‚åŸºæœ¬å­—ç¬¦å’Œâ€œè£…é¥°â€å®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªâ€œæ ‡è®°â€å­—ç¬¦ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ `S` åè·Ÿæœ‰ç‰¹æ®Šçš„ "dot above" å­—ç¬¦ï¼ˆä»£ç  `\u0307`ï¼‰ï¼Œåˆ™æ˜¾ç¤º SÌ‡ã€‚

```js run
alert( 'S\u0307' ); // SÌ‡
```

å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å­—æ¯ä¸Šæ–¹ï¼ˆæˆ–ä¸‹æ–¹ï¼‰æ·»åŠ é¢å¤–çš„æ ‡è®° â€”â€” æ²¡é—®é¢˜ï¼Œåªéœ€è¦æ·»åŠ å¿…è¦çš„æ ‡è®°å­—ç¬¦å³å¯ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬è¿½åŠ ä¸€ä¸ªå­—ç¬¦ "dot below"ï¼ˆä»£ç  `\u0323`ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¾—åˆ°â€œS ç‚¹ä»¥ä¸Šå’Œä»¥ä¸‹çš„â€ï¼š`SÌ‡Ì£`ã€‚

ä¾‹å¦‚ï¼š

```js run
alert( 'S\u0307\u0323' ); // SÌ‡Ì£
```

è¿™åœ¨æä¾›è‰¯å¥½çµæ´»æ€§çš„åŒæ—¶ï¼Œä¹Ÿå­˜åœ¨ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼šä¸¤ä¸ªè§†è§‰ä¸Šçœ‹èµ·æ¥ç›¸åŒçš„å­—ç¬¦ï¼Œå¯ä»¥ç”¨ä¸åŒçš„ unicode ç»„åˆè¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼š

```js run
alert( 'S\u0307\u0323' ); // SÌ‡Ì£, S + dot above + dot below
alert( 'S\u0323\u0307' ); // SÌ‡Ì£, S + dot below + dot above

alert( 'S\u0307\u0323' == 'S\u0323\u0307' ); // false
```

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸€ä¸ª â€œunicode è§„èŒƒåŒ–â€ç®—æ³•ï¼Œå®ƒå°†æ¯ä¸ªå­—ç¬¦ä¸²éƒ½è½¬åŒ–æˆå•ä¸ªâ€œé€šç”¨â€æ ¼å¼ã€‚

å®ƒç”± [str.normalize()](mdn:js/String/normalize) å®ç°ã€‚

```js run
alert( "S\u0307\u0323".normalize() == "S\u0323\u0307".normalize() ); // true
```

æˆ‘ä»¬é‡åˆ°çš„æœ‰è¶£ç°è±¡æ˜¯å®é™…ä¸Š `normalize()` å°†ä¸€ä¸ªç”± 3 ä¸ªå­—ç¬¦ç»„æˆçš„åºåˆ—åˆå¹¶ä¸ºä¸€ä¸ªï¼š`\u1e68`ï¼ˆS æœ‰ä¸¤ä¸ªç‚¹ï¼‰ã€‚

```js run
alert( "S\u0307\u0323".normalize().length ); // 1

alert( "S\u0307\u0323".normalize() == "\u1e68" ); // true
```

äº‹å®ä¸Šï¼Œæƒ…å†µå¹¶éæ€»æ˜¯å¦‚æ­¤ï¼Œå› ä¸ºç¬¦å· `SÌ‡Ì£` â€œå¸¸ç”¨â€ï¼Œæ‰€ä»¥ UTF-16 åˆ›å»ºè€…æŠŠå®ƒåŒ…å«åœ¨ä¸»è¡¨ä¸­å¹¶ç»™äº†å®ƒä»£ç ã€‚

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºè§„èŒƒåŒ–è§„åˆ™å’Œå˜ä½“çš„ä¿¡æ¯ â€”â€” å®ƒä»¬åœ¨ Unicode æ ‡å‡†é™„å½•ä¸­æœ‰è¯¦ç»†æè¿°ï¼š[Unicode è§„èŒƒåŒ–å½¢å¼](http://www.unicode.org/reports/tr15/)ï¼Œä½†å¯¹äºå¤§å¤šæ•°å®é™…ç›®çš„æ¥è¯´ï¼Œæœ¬æ–‡çš„å†…å®¹å°±å·²ç»è¶³å¤Ÿäº†ã€‚


## æ€»ç»“

- æœ‰ 3 ç§ç±»å‹çš„å¼•å·ï¼Œåå¼•å·å…è®¸å­—ç¬¦ä¸²è·¨è¶Šå¤šè¡Œå¹¶åµŒå…¥è¡¨è¾¾å¼ã€‚
- JavaScript ä¸­çš„å­—ç¬¦ä¸²ä½¿ç”¨ UTF-16 è¿›è¡Œç¼–ç ã€‚
- æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åƒ `\n` è¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦æˆ–é€šè¿‡ä½¿ç”¨ `\u...` æ¥æ“ä½œå®ƒä»¬çš„ unicode è¿›è¡Œå­—ç¬¦æ’å…¥ã€‚ 
- è·å–å­—ç¬¦æ—¶ï¼Œä½¿ç”¨ `[]`ã€‚
- è·å–å­å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `slice` æˆ– `substring`ã€‚
- å­—ç¬¦ä¸²çš„å¤§/å°å†™è½¬æ¢ï¼Œä½¿ç”¨ï¼š`toLowerCase/toUpperCase`ã€‚
- æŸ¥æ‰¾å­å­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨ `indexOf` æˆ– `includes/startsWith/endsWith` è¿›è¡Œç®€å•æ£€æŸ¥ã€‚
- æ ¹æ®è¯­è¨€æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ä½¿ç”¨ `localeCompare`ï¼Œå¦åˆ™å°†æŒ‰å­—ç¬¦ä»£ç è¿›è¡Œæ¯”è¾ƒã€‚

å­—ç¬¦ä¸²è¿˜æœ‰å…¶ä»–å‡ ç§æœ‰ç”¨çš„æ–¹æ³•ï¼š

- `str.trim()` â€”â€” åˆ é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼ ("trims")ã€‚
- `str.repeat(n)` â€”â€” é‡å¤å­—ç¬¦ä¸² `n` æ¬¡ã€‚
- ...æ›´å¤šå†…å®¹ç»†èŠ‚å‚è§[æ‰‹å†Œ](mdn:js/String)ã€‚

å­—ç¬¦ä¸²è¿˜å…·æœ‰ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œæœç´¢/æ›¿æ¢çš„æ–¹æ³•ã€‚ä½†è¿™ä¸ªè¯é¢˜å€¼å¾—æ‹¥æœ‰å•ç‹¬çš„ä¸€ç« ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¨åå†è¯´ã€‚
